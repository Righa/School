{% extends 'admin-dash.html' %}


{% block pagedata %}
<div class="card my-3">
	<div class="card-header text-info">
		<h3 class="display-4"><i class="fas fa-tachometer-alt"></i> DASHBORD</h3>
	</div>
	<div class="card-body">
		<div class="row text-center text-info">
			<div class="col">
				<div class="card">
					<div class="card-body">
						<h3 class="display-1">{{ metrics.num_students }}</h3>
					</div>
					<div class="card-footer">
						<h3 class="card-title">STUDENTS</h3>
					</div>
				</div>
			</div>
			<div class="col">
				<div class="card">
					<div class="card-body">
						<h3 class="display-1">{{ metrics.num_groups }}</h3>
					</div>
					<div class="card-footer">
						<h3 class="card-title">GROUPS</h3>
					</div>
				</div>
			</div>
			<div class="col h-100">
				<div class="card">
					<div class="card-body">
						<h3 class="display-1">{{ metrics.num_subjects }}</h3>
					</div>
					<div class="card-footer">
						<h3 class="card-title">SUBJECTS</h3>
					</div>
				</div>
			</div>
			<div class="col">
				<div class="card">
					<div class="card-body">
						<h3 class="display-1">{{ metrics.num_current }}</h3>
					</div>
					<div class="card-footer">
						<h3 class="card-title">ONGOING GROUPS</h3>
					</div>
				</div>
			</div>
			<div class="col">
				<div class="card">
					<div class="card-body">
						<h3 class="display-1">{{ metrics.num_graduated }}</h3>
					</div>
					<div class="card-footer">
						<h3 class="card-title">GRADUATED GROUPS</h3>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

{% for group in metrics.groups %}
<div class="card my-3">
	<div class="card-header">
		<h3 class="card-title">{{ group.year }} Class Metrics</h3>
	</div>
	<div class="card-body">
		<div class="row">
			<div class="col text-center text-info">
				<div class="card">
					<div class="card-body">
						<h3 class="display-3">{{ group.exams|length }}</h3>
					</div>
					<div class="card-footer">
						<h3 class="card-title">EXAMS</h3>
					</div>
				</div>
			</div>

			<div class="col">
				{% if group.outcomes < 100 %}
				<div class="card text-warning">
					<div class="card-body">
						<h3 class="display-3">{{ group.outcomes }}%</h3>
					</div>
					<div class="card-footer">
						<h3 class="card-title">Outcomes Captured</h3>
					</div>
				</div>
				{% else %}
				<div class="card text-success">
					<div class="card-body">
						<h3 class="display-3">{{ group.outcomes }}%</h3>
					</div>
					<div class="card-footer">
						<h3 class="card-title">Outcomes Captured</h3>
					</div>
				</div>
				{% endif %}
			</div>
			<div class="col">
				{% if group.untested > 0 %}
				<div class="card text-warning">
					<div class="card-body">
						<h3 class="display-3">{{ group.untested }}%</h3>
					</div>
					<div class="card-footer">
						<h3 class="card-title">Untested Categories</h3>
					</div>
				</div>
				{% else %}
				<div class="card text-success">
					<div class="card-body">
						<h3 class="display-3">{{ group.untested }}%</h3>
					</div>
					<div class="card-footer">
						<h3 class="card-title">Untested Categories</h3>
					</div>
				</div>
				{% endif %}
			</div>
		</div>
	</div>
</div>
{% endfor %}

{% endblock %}
